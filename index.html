<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="description" content="Discover your Social Energy Score with our viral quiz and explore in-depth articles on introversion, extroversion, and ambiversion, managing energy in modern social contexts, and the science behind social interactions." />
    <meta name="keywords" content="social energy, introvert, extrovert, ambivert, social energy calculator, personality types, social battery, manage social energy, introversion traits, extroversion traits, ambiversion traits, remote work social, science social energy, personality science, social interaction energy, energy management, WFH social tips, digital detox, social burnout, boundary setting" />
    <title>Social Energy Score Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* ========== VARIABLES & RESET ========== */
        :root {
            --bg-light: #F3F4F6;
            --bg-dark: #1F2937;
            --card-light: #FFFFFF;
            --card-dark: #374151;
            --text-light: #1F2937;
            --text-dark: #F3F4F6;
            --accent: #2563EB; /* A vibrant blue */
            --accent-light: #93C5FD; /* Lighter blue */
            --battery-low: #DC2626; /* Red */
            --battery-mid: #FBBF24; /* Yellow */
            --battery-high: #10B981; /* Green */
            --nav-bg: #1E40AF; /* Darker blue */
            --nav-text: #F3F4F6; /* Light text */
             --border-light: #E5E7EB;
             --border-dark: #4B5563;
             --shadow-light: 0 1px 3px rgba(0,0,0,0.1);
             --shadow-dark: 0 1px 3px rgba(255,255,255,0.1);
             --glow-accent: 0 0 5px var(--accent-light), 0 0 10px var(--accent-light);
        }
        * { box-sizing: border-box; margin:0; padding:0; }
        body { font-family:'Segoe UI',sans-serif; background:var(--bg-light); color:var(--text-light); transition:background-color 0.3s, color 0.3s; line-height: 1.6; padding-bottom: 60px; /* Space for footer */ }
        body.dark-mode { background:var(--bg-dark); color:var(--text-dark); }
        a { text-decoration:none; color:var(--accent); transition: color 0.3s; }
        a:hover { text-decoration:underline; color:var(--accent-light); }

        /* ========== HEADER & NAVBAR ========== */
        header {
            position:sticky;
            top:0;
            background:var(--nav-bg);
            color:var(--nav-text);
            padding:1rem;
            z-index:1000;
            box-shadow:0 2px 5px rgba(0,0,0,0.2);
            text-align: center; /* Ensure title is centered */
        }
         header h1 {
             color: var(--nav-text); /* Header title color */
             margin-bottom: 1rem;
         }
        #theme-toggle {
             position:absolute;
             top:1rem;
             right:1rem;
             background:var(--accent-light);
             color:var(--text-light); /* Button text color light mode */
             border:none;
             padding:0.5rem 1rem;
             border-radius:0.375rem;
             cursor: pointer;
             transition: background-color 0.3s, color 0.3s;
        }
         body.dark-mode #theme-toggle {
             color: var(--text-dark); /* Button text color dark mode */
             background: var(--accent);
         }
         #theme-toggle:hover {
             opacity: 0.9;
         }

        nav.main-nav { display:flex; justify-content:center; flex-wrap:wrap; gap:0.5rem; margin-top:1rem; }
        nav.main-nav a { padding:0.75rem 1.5rem; background:var(--accent); color:var(--nav-text); border-radius:0.375rem; font-weight:600; transition:0.3s; cursor: pointer; }
        nav.main-nav a:hover { background:var(--accent-light); color:var(--text-light); }

        /* ========== MAIN CONTENT SECTIONS (Toggleable) ========== */
         .page-section {
             display: none; /* Hidden by default, shown by JS */
             max-width:800px;
             margin:2rem auto;
             padding:1rem;
             background:var(--card-light);
             border-radius:0.5rem;
             box-shadow:var(--shadow-light);
             transition: background-color 0.3s, box-shadow 0.3s;
         }
         body.dark-mode .page-section { background:var(--card-dark); box-shadow:var(--shadow-dark); }
         .page-section h2 { color:var(--accent); margin-bottom: 1rem; }
         body.dark-mode .page-section h2 { color:var(--accent-light); } /* Enhanced contrast for headings in dark mode */


        /* ========== QUIZ SECTION ========== */
        #quiz .question { font-size:1.25rem; font-weight:600; margin-bottom:1rem; }
        #quiz .options button {
             width:100%;
             margin:0.75rem 0;
             padding:0.75rem;
             background:var(--accent-light);
             color:var(--text-light);
             border:none;
             border-radius:0.375rem;
             font-size:1rem;
             cursor: pointer;
             transition:background-color 0.3s, color 0.3s, opacity 0.3s;
        }
         body.dark-mode #quiz .options button {
             color: var(--text-dark);
             background: rgba(147, 197, 253, 0.2); /* Light accent with transparency */
         }
        #quiz .options button:hover:not(:disabled) { background:var(--accent); color:var(--nav-text); }
         #quiz .options button:disabled { opacity: 0.6; cursor: not-allowed; }


        /* ========== QUIZ RESULT BOX ========== */
        #result-box {
             display:none;
             background:var(--card-light);
             border:2px solid var(--accent);
             padding:1.5rem; /* Increased padding */
             margin-top:2rem; /* Increased margin top */
             border-radius:0.5rem;
             box-shadow:0 2px 8px rgba(0,0,0,0.1);
             text-align: center; /* Center content */
             transition: background-color 0.3s;
        }
        body.dark-mode #result-box { background:var(--card-dark); border-color: var(--accent-light); }
        #result-box h2 { margin-bottom:0.5rem; color:var(--accent); font-size: 1.75rem; }
        body.dark-mode #result-box h2 { color:var(--accent-light); } /* Enhanced contrast */
        #result-box p { margin-bottom:1rem; font-size: 1.1rem; }

        /* Buttons in Result Box */
        #result-box .result-buttons {
             display: flex;
             justify-content: center;
             gap: 1rem;
             margin-top: 1.5rem;
             flex-wrap: wrap;
        }
         #result-box .result-buttons button {
             padding: 0.75rem 1.5rem;
             font-size: 1rem;
             border-radius: 0.375rem;
             cursor: pointer;
             transition: opacity 0.3s;
             flex: 1 1 auto; /* Allow buttons to grow/shrink */
             max-width: 200px; /* Prevent buttons from being too wide on large screens */
         }
          #result-box .result-buttons #retake-quiz-button {
              background: var(--accent-light);
              color: var(--text-light);
              border: none;
          }
           body.dark-mode #result-box .result-buttons #retake-quiz-button {
              color: var(--text-dark);
              background: rgba(147, 197, 253, 0.2);
           }
           #result-box .result-buttons #retake-quiz-button:hover {
              background: var(--accent);
              color: var(--nav-text);
           }
            #result-box .result-buttons button:hover {
               opacity: 0.9;
            }


        /* ========== BATTERY INDICATOR ========== */
        .battery { width:120px; height:40px; border:3px solid var(--text-light); border-radius:4px; position:relative; margin:1rem auto; /* Center */ overflow: hidden; /* Hide overflow */ }
         body.dark-mode .battery { border-color: var(--text-dark); }
        .battery::after { content:''; position:absolute; top:25%; right:-12px; width:10px; height:50%; background:var(--text-light); border-radius:2px; }
         body.dark-mode .battery::after { background: var(--text-dark); }

        .battery-level {
            height:100%;
            width:0; /* Filled by JS */
            background:var(--battery-high); /* Default */
            transition:width 0.5s ease-in-out, background-color 0.5s ease-in-out, box-shadow 0.5s ease-in-out;
            display:flex;
            justify-content:center;
            align-items:center;
            font-weight: bold;
            /* Set text color to be highly visible on colored fills */
            color: var(--nav-text); /* Use light text color */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5); /* Add subtle shadow for contrast */
            box-shadow: none; /* Initial state */
        }

         @keyframes pulse-glow {
             0% { box-shadow: none; }
             50% { box-shadow: var(--glow-accent); }
             100% { box-shadow: none; }
         }
         .battery-level.pulse {
             animation: pulse-glow 1.5s infinite ease-in-out;
         }


        .result-points { list-style:disc; padding-left:20px; text-align: left; margin-top: 1.5rem; }
         .result-points li { margin-bottom: 0.5rem; }

        /* ========== SOCIAL SHARE ========== */
         /* Keeping this div but the layout is handled by result-buttons */
         /* #social-share { display:none; text-align:center; margin-top: 1.5rem; } */


        /* ========== DYNAMIC TIPS SECTION ========== */
        #tip-box { margin-top:1.5rem; text-align:center; padding: 1rem; background: rgba(37, 99, 235, 0.1); border-radius: 0.5rem; border: 1px dashed var(--accent); display: none; /* Hidden by default */ }
        #tip-box p { font-style:italic; margin-bottom:1rem; }
        #tip-box .explanation { font-style: normal; font-size: 0.9rem; margin-top: 1rem; color: var(--text-light); /* Default text color */ text-align: left; }
         body.dark-mode #tip-box .explanation { color: var(--text-dark); /* Dark mode text color */ }

        #new-tip { margin-top:0.5rem; padding:0.75rem 1.5rem; background:var(--accent); color:var(--nav-text); border:none; border-radius:0.375rem; cursor: pointer; transition: opacity 0.3s; }
         #new-tip:hover { opacity: 0.9; }


        /* ========== BLOG SECTION ========== */
        .blog-section h2 { text-align:center; margin-bottom:1.5rem; }
        body.dark-mode .blog-section h2 { color:var(--accent-light); } /* Enhanced contrast */

        #blog-list { list-style:none; padding-left:0; margin-bottom: 2rem; }
        #blog-list li { margin-bottom:0.75rem; }
        #blog-list a { font-weight:600; display: block; padding: 0.5rem; background: rgba(37, 99, 235, 0.05); border-radius: 0.375rem; transition: background-color 0.3s; }
        #blog-list a:hover { text-decoration:none; background: rgba(37, 99, 235, 0.15); }

        #article-container { margin-top:1.5rem; }
        .blog-article { background:var(--card-light); padding: 1.5rem; border-radius: 0.5rem; box-shadow: var(--shadow-light); border: 1px solid var(--border-light); transition: background-color 0.3s, box-shadow 0.3s, border-color 0.3s; }
         body.dark-mode .blog-article { background:var(--card-dark); box-shadow: var(--shadow-dark); border-color: var(--border-dark); }
        .blog-article h3 { font-size:1.75rem; margin-bottom:0.75rem; color:var(--accent); }
        body.dark-mode .blog-article h3 { color:var(--accent-light); } /* Enhanced contrast */
         .blog-article h4 { font-size:1.2rem; margin-top: 1.5rem; margin-bottom: 0.75rem; color:var(--accent-light); }
        .blog-article p { margin-bottom:1rem; text-align:justify; line-height:1.6; }
         .blog-article ul { list-style: disc; padding-left: 20px; margin-bottom: 1rem; }


        /* ========== FOOTER & TOGGLES (Modal Pattern) ========== */
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--nav-bg);
            color: var(--nav-text);
            text-align: center;
            padding: 1rem;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        footer ul {
            padding: 0;
            margin: 0;
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 1.5rem;
             flex-wrap: wrap;
        }
        footer a {
            cursor: pointer;
            color: var(--nav-text); /* Footer links are light */
            transition: color 0.3s ease;
        }
        footer a:hover {
            color: var(--accent-light);
        }

        .toggle-content {
            display: none;
            position: fixed;
            bottom: 70px; /* Above the footer */
            left: 50%;
            transform: translateX(-50%);
            width: 95%;
            max-width: 700px;
            background-color: var(--card-light);
            border: 1px solid var(--accent);
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            padding: 1.5rem;
            z-index: 1001; /* Above footer */
            max-height: 80vh;
            overflow-y: auto;
             transition: background-color 0.3s, box-shadow 0.3s, border-color 0.3s;
        }
         body.dark-mode .toggle-content {
             background-color: var(--card-dark);
             border-color: var(--accent-light);
             box-shadow: 0 5px 15px rgba(255,255,255,0.1);
         }
        .toggle-content h3 {
            margin-top: 0;
            color: var(--accent);
            margin-bottom: 1rem;
        }
         body.dark-mode .toggle-content h3 { color:var(--accent-light); } /* Enhanced contrast */

         .toggle-content p, .toggle-content ul, .toggle-content a {
             color: var(--text-light); /* Default text color */
         }
          body.dark-mode .toggle-content p, body.dark-mode .toggle-content ul, body.dark-mode .toggle-content a {
              color: var(--text-dark); /* Dark mode text color */
          }
          .toggle-content ul {
              list-style: disc;
              padding-left: 20px;
          }
          .toggle-content li {
              margin-bottom: 0.5rem;
          }
          .toggle-content a {
             text-decoration: underline;
          }
           .toggle-content a:hover {
              text-decoration: none;
              color: var(--accent-light);
           }


        .toggle-content button.close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: var(--text-light); /* Close button color */
            font-size: 1.5rem;
            cursor: pointer;
             transition: color 0.3s;
        }
         body.dark-mode .toggle-content button.close-btn {
             color: var(--text-dark); /* Close button color dark mode */
         }
         .toggle-content button.close-btn:hover {
             color: var(--battery-low); /* Red on hover */
         }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000; /* Below toggle content, above footer */
        }


        /* ========== RESPONSIVE ========== */
        @media(max-width:600px){
             nav.main-nav { gap: 0.25rem; }
             nav.main-nav a{ flex:1 1 100%; text-align:center; padding: 0.5rem; }
             /* Adjusted theme toggle for better mobile layout */
             #theme-toggle {
                 position: static; /* Remove absolute positioning */
                 margin: 0.5rem auto 1rem auto; /* Center horizontally, add vertical margin */
                 width: 80%; /* Make it take up more width */
                 display: block; /* Ensure it takes its own line */
                 max-width: 200px; /* Prevent it from becoming too wide */
             }
             header { padding-top: 0.5rem; padding-bottom: 0.5rem; }
             header h1 { margin-top: 0.5rem; margin-bottom: 0.5rem; font-size: 1.5rem; }

             .page-section { margin: 1rem auto; padding: 0.75rem; }
             .page-section h2 { font-size: 1.5rem; }
             #result-box { padding: 1rem; }
              .blog-article h3 { font-size: 1.5rem; }
             .blog-article h4 { font-size: 1.1rem; }

             #result-box .result-buttons button {
                 flex: 1 1 100%; /* Stack buttons on small screens */
                 max-width: none;
             }

             /* Adjust footer spacing for smaller screens */
             footer { padding: 0.75rem; }
             footer ul { gap: 0.75rem; }
             footer a { padding: 0.25rem; }

             /* Adjust modal position and size for smaller screens */
             .toggle-content { bottom: 10px; max-height: 90vh; padding: 1rem; width: 90%; }
              .toggle-content h3 { font-size: 1.3rem; }
        }

    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-battery-full"></i> Social Energy Score Calculator</h1>
        <button id="theme-toggle">Dark Mode</button>
        <nav class="main-nav">
            <a onclick="showPageSection('quiz')">Quiz</a>
            <a onclick="showPageSection('tips')">Tips</a>
            <a onclick="showPageSection('blog')">Blog</a>
            <a onclick="showPageSection('about-section')">About</a>
            <a onclick="showPageSection('contact-section')">Contact</a>
        </nav>
    </header>

    <div class="page-section" id="quiz">
        <h2>Social Energy Quiz</h2>
        <div class="question" id="question">Loading...</div>
        <div class="options" id="options"></div>
        <div id="result-box">
            <h2 id="result-title"></h2>
            <p id="result-text"></p>
            <div class="battery"><div class="battery-level" id="battery-level"></div></div>
            <ul class="result-points" id="points"></ul>
            <div class="result-buttons">
                 <button onclick="shareResult()">Copy & Share Result</button>
                 <button id="retake-quiz-button" onclick="resetQuiz()">Retake Quiz</button>
            </div>
        </div>
         </div>

    <section class="page-section" id="tips">
        <h2>Quick Social Energy Tips</h2>
         <div id="tip-box">
             <p id="tip-text"></p>
             <button id="new-tip">Get Another Tip</button>
             <p class="explanation">Understanding and managing your social energy is key to avoiding burnout and living a balanced life, especially in today's hyper-connected world with constant digital interactions and demanding social expectations. Whether you thrive on social connection or need quiet solitude to recharge, being mindful of your energy levels is crucial. The tip above offers a quick, actionable idea you can implement right away. Click 'Get Another Tip' to discover more simple strategies to manage and replenish your energy throughout the day, tailored for navigating modern social contexts and different personality types like introverts, extroverts, and ambiverts.</p>
        </div>

    </section>

    <section class="page-section blog-section" id="blog">
        <h2>From Our Blog</h2>
        <ul id="blog-list"></ul>
        <div id="article-container"></div>
    </section>

    <section class="page-section" id="about-section">
         <h2>About This Tool</h2>
         <p>Welcome to the Social Energy Score Calculator! This unique tool is designed to help you explore and understand your personal social energy levels. The concept of social energy relates to how interacting with others impacts your energy reserves – some find it draining, while others find it invigorating. Our calculator, based on a simple quiz derived from common personality traits associated with introversion, extroversion, and ambiversion, provides an estimate of where you fall on the social energy spectrum.</p>
         <p>Understanding your social energy profile isn't about labeling yourself; it's about gaining self-awareness to live a more balanced and fulfilling life. Whether you discover you're an introvert who needs ample alone time to recharge, an extrovert who thrives in social settings, or an ambivert who enjoys a mix of both, this knowledge is a powerful tool for managing your well-being. It can help you make conscious choices about your social commitments, optimize your work environment, and improve your relationships.</p>
         <p>Beyond the calculator, our blog section offers in-depth articles exploring the nuances of introversion, extroversion, and ambiversion, the science behind social energy, and practical tips for managing your energy in various situations, including the modern remote work environment. We believe that by understanding how you interact with the social world, you can better protect your energy, avoid burnout, and connect with others in ways that feel authentic and sustainable for you. Dive in, take the quiz, and start your journey to better social energy management today.</p>
     </section>

     <section class="page-section" id="contact-section">
         <h2>Get In Touch</h2>
         <p>We love to hear from our users! Whether you have feedback about the Social Energy Score Calculator, suggestions for future articles, or just want to share how understanding your social energy has helped you, please don't hesitate to reach out.</p>
         <p>You can send us an email directly at <a href="mailto:info@socialenergy.com">info@socialenergy.com</a>. We read every message and while we may not be able to respond to each one individually due to volume, your input is invaluable in helping us improve this tool and the resources we provide. Please note that we cannot offer personalized psychological advice. If you are dealing with mental health concerns, please consult a qualified professional.</p>
         <p>Thank you for visiting SocialEnergy.com and for taking the step to understand your social energy better. We are committed to providing helpful and insightful content to support your journey towards balanced social well-being.</p>
     </section>


    <footer>
        <ul>
            <li><a onclick="toggleContent('privacy')">Privacy Policy</a></li>
            <li><a onclick="toggleContent('disclaimer')">Disclaimer</a></li>
            <li><a onclick="toggleContent('sitemap')">Sitemap</a></li>
        </ul>
    </footer>

    <div id="privacy-content" class="toggle-content">
        <button class="close-btn" onclick="toggleContent('privacy')">&times;</button>
        <h3>Privacy Policy</h3>
        <p>At SocialEnergy.com, your privacy is paramount. We want to be absolutely clear: **this Social Energy Score Calculator tool runs entirely within your web browser.** This means:</p>
        <ul>
            <li>**No Data Collected:** We do not collect, store, or transmit any of your quiz answers or results to our servers or any third parties.</li>
            <li>**Local Processing:** The calculation of your Social Energy Score happens live on your device using JavaScript.</li>
            <li>**No Personal Information:** You are not required to provide any personal information to use this tool.</li>
            <li>**No Tracking Cookies for Quiz Data:** We do not use cookies or any other tracking mechanisms to monitor your quiz participation or results.</li>
        </ul>
        <p>The tool is designed for your personal, private self-reflection. Once you close the page, the quiz answers and result are gone unless you choose to share them using the provided share button (which only copies text to your clipboard, it doesn't send data to us).</p>
        <p>We may use standard, anonymized website analytics (e.g., Google Analytics, configured for privacy) to understand overall traffic to the page (like how many people visited the quiz page today), but this data is aggregated and cannot be used to identify you personally or linked to your individual quiz results. We do not sell or share any aggregate data with third parties for marketing purposes.</p>
        <p>By using this tool, you consent to the processing of your data locally in your browser as described in this policy. This policy is subject to change, and any updates will be posted here.</p>
    </div>

    <div id="disclaimer-content" class="toggle-content">
        <button class="close-btn" onclick="toggleContent('disclaimer')">&times;</button>
        <h3>Disclaimer</h3>
        <p>Please read this disclaimer carefully before using the Social Energy Score Calculator.</p>
        <p>The Social Energy Score Calculator is provided for informational and entertainment purposes only. It is designed as a lighthearted tool for self-reflection and to introduce concepts related to social energy, introversion, extroversion, and ambiversion. **It is not intended to be, and should not be considered, a substitute for professional psychological evaluation, advice, diagnosis, or treatment.**</p>
        <ul>
            <li>**Simplified Model:** The quiz uses a simplified model based on general tendencies associated with personality types. Human personality and social energy are complex and exist on a spectrum, influenced by numerous factors not included in this basic calculator.</li>
            <li>**Not a Clinical Tool:** The results generated by this tool are not clinical diagnoses. They are estimates based on your self-reported answers at a single point in time.</li>
            <li>**Variability:** Your social energy levels can fluctuate based on various factors such as sleep, stress, environment, and the specific social situation. The quiz result reflects a general tendency, not a fixed state.</li>
            <li>**No Guarantees:** SocialEnergy.com makes no guarantees about the accuracy, completeness, or applicability of the quiz results or the information provided on this site for your individual circumstances.</li>
            <li>**No Liability:** By using this tool, you agree that SocialEnergy.com and its creators are not liable for any decisions you make or actions you take based on the information or results provided by this calculator or website.</li>
        </ul>
    </div>

    <div id="sitemap-content" class="toggle-content">
        <button class="close-btn" onclick="toggleContent('sitemap')">&times;</button>
        <h3>Sitemap</h3>
        <p>Navigate our site to explore various aspects of social energy:</p>
        <ul>
            <li><a href="#quiz" onclick="hideAllToggles(); showPageSection('quiz'); return false;">Social Energy Quiz</a>: Take the quick assessment to find your score.</li>
            <li><a href="#tips" onclick="hideAllToggles(); showPageSection('tips'); return false;">Quick Social Energy Tips</a>: Get actionable ideas for daily energy management.</li>
            <li><a href="#blog" onclick="hideAllToggles(); showPageSection('blog'); return false;">Blog</a>: Dive into detailed articles on social energy topics.</li>
             <ul>
                 <li><a href="#article-0" onclick="hideAllToggles(); showPageSection('blog'); setTimeout(()=>showArticle(0), 50); return false;">Understanding Introversion: Recharge Your Alone Time</a></li>
                 <li><a href="#article-1" onclick="hideAllToggles(); showPageSection('blog'); setTimeout(()=>showArticle(1), 50); return false;">Ambiverts: The Best of Both Worlds?</a></li>
                 <li><a href="#article-2" onclick="hideAllToggles(); showPageSection('blog'); setTimeout(()=>showArticle(2), 50); return false;">Embracing Extroversion: Harnessing Social Energy</a></li>
                 <li><a href="#article-3" onclick="hideAllToggles(); showPageSection('blog'); setTimeout(()=>showArticle(3), 50); return false;">The Science Behind Social Energy</a></li>
                 <li><a href="#article-4" onclick="hideAllToggles(); showPageSection('blog'); setTimeout(()=>showArticle(4), 50); return false;">Managing Energy in a Remote Work World</a></li>
                  </ul>
            <li><a href="#about-section" onclick="hideAllToggles(); showPageSection('about-section'); return false;">About This Tool</a>: Learn about the calculator and its purpose.</li>
            <li><a href="#contact-section" onclick="hideAllToggles(); showPageSection('contact-section'); return false;">Contact Us</a>: Find out how to send feedback.</li>
            <li><span onclick="toggleContent('privacy')" style="cursor: pointer; text-decoration: underline;">Privacy Policy</span>: Understand how your data is handled (locally).</li>
            <li><span onclick="toggleContent('disclaimer')" style="cursor: pointer; text-decoration: underline;">Disclaimer</span>: Important information about the tool's limitations.</li>
        </ul>
    </div>

    <div class="overlay" onclick="hideAllToggles()"></div>


    <script>
        // Theme Toggle
        document.getElementById('theme-toggle').addEventListener('click', function(){
            document.body.classList.toggle('dark-mode');
            // Store user preference in local storage (optional but good UX)
            if(document.body.classList.contains('dark-mode')) {
                localStorage.setItem('theme', 'dark');
                this.textContent = 'Light Mode';
            } else {
                localStorage.setItem('theme', 'light');
                 this.textContent = 'Dark Mode';
            }
            // Re-evaluate battery level color based on potentially changed CSS variables
             updateBatteryLevelColor();
        });

        // Quiz Functionality
        const questionSets = [
            [ // Set 1 (Introvert leaning)
                { q: "You’re at a party. What are you doing?", opts: ["Chatting with close friends", "Talking to a few small groups", "Working the room, talking to everyone"], s: [2, 3, 5] },
                { q: "Weekend plan?", opts: ["Reading a book at home", "Small meetup with friends", "Going to a large event or concert"], s: [1, 3, 5] },
                { q: "Energy after socializing for hours?", opts: ["Totally drained, need quiet alone time", "A bit tired", "Fully energized"], s: [1, 3, 5] },
                { q: "Preferred work setting?", opts: ["Quiet home office", "Collaborative team space", "Busy, open-plan office"], s: [1, 3, 5] },
                { q: "Ideal vacation?", opts: ["Secluded cabin retreat", "City sightseeing in small group", "Music festival with friends"], s: [1, 2, 5] }
            ],
             [ // Set 2 (Ambivert leaning)
                 { q: "New social situation?", opts: ["Prefer to observe before joining in", "Comfortable joining in small groups", "Jump right into the biggest group"], s: [2, 3, 5] },
                 { q: "Decision making style?", opts: ["Prefer to decide alone after thinking", "Discuss with a few trusted people", "Brainstorm with a large group"], s: [1, 3, 5] },
                 { q: "Public speaking?", opts: ["Avoid it if possible", "Okay with a small, familiar audience", "Energized by a large crowd"], s: [1, 3, 5] },
                 { q: "Dealing with conflict?", opts: ["Prefer to resolve one-on-one", "Address it within the involved group", "Seek mediation from others"], s: [2, 3, 5] },
                 { q: "After a busy week?", opts: ["Look forward to quiet time at home", "Enjoy a balance of solo and social activities", "Want to go out and see people"], s: [1, 3, 5] }
             ],
              [ // Set 3 (Extrovert leaning)
                 { q: "Learning something new?", opts: ["Read about it alone", "Discuss it with a study partner", "Learn best in a group workshop"], s: [1, 3, 5] },
                 { q: "When stressed?", opts: ["Withdraw and process internally", "Talk to one or two close friends", "Seek out friends or family for support"], s: [1, 3, 5] },
                 { q: "Meeting new people?", opts: ["Find it challenging at first", "Can manage, especially with a friend", "Excited by the opportunity"], s: [1, 3, 5] },
                 { q: "Leading a project?", opts: ["Prefer a clear role and tasks", "Enjoy coordinating a small team", " Thrive managing a large team"], s: [1, 3, 5] },
                 { q: "Your phone rings?", opts: ["Let it go to voicemail unless expected", "Answer if it's a known contact", "Answer most calls eagerly"], s: [1, 3, 5] }
             ]
            // Add more sets if desired
        ];
        // Declare 'questions' variable without initial assignment
        let questions;

        let currentQuestionIndex = 0;
        let userScore = 0;
        const resultBox = document.getElementById('result-box');
        const questionDiv = document.getElementById('question');
        const optionsDiv = document.getElementById('options');

        function loadQuestion() {
             console.log('Attempting to load question:', currentQuestionIndex + 1); // Debugging
             // Ensure questions array is populated before loading a question
             if (!questions || questions.length === 0) {
                 console.error("Questions array is not populated. Resetting quiz to select a set.");
                 // If questions are somehow not loaded, attempt a full reset
                 resetQuiz();
                 return; // Exit this call
             }

            if (currentQuestionIndex >= questions.length) {
                console.log('Quiz finished, showing result.'); // Debugging
                return showResult();
            }

            const q = questions[currentQuestionIndex];

            // Ensure elements exist before updating
            if(questionDiv) {
                questionDiv.innerText = q.q;
                questionDiv.style.display = 'block'; // Ensure question is visible
            } else {
                 console.error("Question element not found.");
                 return; // Stop if essential element is missing
            }

            if(optionsDiv) {
                 optionsDiv.innerHTML = ''; // Clear previous options
                q.opts.forEach((optionText, i) => {
                    const button = document.createElement('button');
                    button.innerText = optionText;
                    // Store the score value in a data attribute
                    button.dataset.score = q.s[i];
                    button.addEventListener('click', handleOptionClick); // Use an event listener
                    optionsDiv.appendChild(button);
                });
                optionsDiv.style.display = 'block'; // Ensure options are visible
                console.log('Loaded question:', currentQuestionIndex + 1, 'Options created.'); // Debugging
            } else {
                 console.error("Options element not found.");
                 return; // Stop if essential element is missing
            }


             // Ensure result box is hidden when loading a new question
             if(resultBox) resultBox.style.display = 'none';
             // Ensure tip box is hidden when loading a new question (in case user restarts quiz)
              const tipBox = document.getElementById('tip-box');
              if(tipBox) tipBox.style.display = 'none';
        }

        function handleOptionClick(event) {
            const selectedButton = event.target;
            // Only process the click if the button is not already disabled
            if (selectedButton.disabled) {
                 console.log('Button already disabled, ignoring click.'); // Debugging
                return;
            }

            const points = parseInt(selectedButton.dataset.score, 10);
            userScore += points;
            console.log("Selected option, added", points, "points. Total score:", userScore); // Debugging

            // Disable all buttons for the current question
            const buttons = optionsDiv.querySelectorAll('button');
            buttons.forEach(button => {
                button.disabled = true;
                 // Optional: Highlight the selected option
                 if (button === selectedButton) {
                      button.style.backgroundColor = 'var(--accent)';
                      button.style.color = 'var(--nav-text)';
                 } else {
                      // Dim non-selected options slightly
                       button.style.opacity = 0.7;
                 }
            });

            currentQuestionIndex++;
            // Load the next question after a short delay
             if (currentQuestionIndex < questions.length) {
                setTimeout(loadQuestion, 400); // Reduced delay slightly
             } else {
                 setTimeout(showResult, 400); // Reduced delay slightly
             }
        }


        function updateBatteryLevelColor() {
             const levelDiv = document.getElementById('battery-level');
             if (!levelDiv) {
                 console.error("Battery level element not found for color update.");
                 return;
             }
             // Use clientWidth to get the actual rendered width in pixels
             // Then calculate percentage relative to parent width
             const batteryContainer = levelDiv.parentElement;
             if (!batteryContainer) {
                 console.error("Battery container element not found for color update.");
                 return;
             }
             const containerWidth = batteryContainer.clientWidth;
             const levelWidth = levelDiv.clientWidth;
             const percentage = containerWidth > 0 ? (levelWidth / containerWidth) * 100 : 0;


             const rootStyles = getComputedStyle(document.documentElement);
             const lowColor = rootStyles.getPropertyValue('--battery-low').trim();
             const midColor = rootStyles.getPropertyValue('--battery-mid').trim();
             const highColor = rootStyles.getPropertyValue('--battery-high').trim();

             if (percentage > 70) {
                 levelDiv.style.backgroundColor = highColor;
             } else if (percentage > 40) {
                 levelDiv.style.backgroundColor = midColor;
             } else {
                 levelDiv.style.backgroundColor = lowColor;
             }
             // Text color is handled by CSS rule .battery-level { color: var(--nav-text); }
        }


        function showResult() {
            // Ensure elements exist before hiding
            if(questionDiv) questionDiv.style.display = 'none'; // Hide question
            if(optionsDiv) optionsDiv.style.display = 'none'; // Hide options

            // Ensure questions are loaded before calculating score
             if (!questions || questions.length === 0) {
                 console.error("Questions array is not populated when trying to show result.");
                 // Fallback: Reset quiz and show quiz section
                 resetQuiz();
                 return;
             }

            const maxScore = questions.length * 5; // Maximum possible score (5 points per question)
            const percentage = Math.round((userScore / maxScore) * 100);
            const type = percentage <= 40 ? "Introvert" : percentage <= 70 ? "Ambivert" : "Extrovert";

            // Ensure elements exist before updating content
            const resultTitle = document.getElementById('result-title');
            const resultText = document.getElementById('result-text');
            const batteryLevelDiv = document.getElementById('battery-level');
            const resultPointsList = document.getElementById('points');
            const tipBox = document.getElementById('tip-box');


            if(resultTitle) resultTitle.innerText = `You are likely an ${type}!`;
            if(resultText) resultText.innerText = `Your Social Energy Score: ${userScore} out of ${maxScore} (${percentage}%)`;


            if(batteryLevelDiv) {
                // Remove pulse class before setting width if it was there
                 batteryLevelDiv.classList.remove('pulse');

                batteryLevelDiv.style.width = percentage + '%';
                batteryLevelDiv.innerText = percentage + '%'; // Display percentage inside the bar
                // Use setTimeout to ensure the width transition starts before updating color
                 setTimeout(updateBatteryLevelColor, 10); // Small delay


                // Add pulse class AFTER the width transition has started/finished
                 // Use a small timeout to ensure transition starts first
                 setTimeout(() => {
                      batteryLevelDiv.classList.add('pulse');
                 }, 600); // Start pulse animation shortly after fill transition

            } else {
                 console.error("Battery level element not found.");
            }


            if(resultPointsList) {
                 resultPointsList.innerHTML = ''; // Clear previous points

                 const pts = [
                     `Your score suggests you lean towards being an ${type}.`,
                     type === 'Introvert' ? 'You likely recharge your energy through quiet time alone.' : type === 'Ambivert' ? 'You can thrive in both social settings and solitude, finding a balance.' : 'You likely gain energy from interacting with others and large groups.',
                     'Understanding your social energy helps you manage your well-being and avoid burnout.',
                     'Explore strategies to optimize your social interactions based on your profile.',
                     'Share your result to foster understanding with friends and family.'
                 ];

                 pts.forEach(point => {
                     const li = document.createElement('li');
                     li.innerText = point;
                     resultPointsList.appendChild(li);
                 });
             } else {
                 console.error("Result points list element not found.");
             }


            if(resultBox) resultBox.style.display = 'block';

             if(tipBox) tipBox.style.display = 'block'; // Ensure tip box is visible after quiz


            console.log('Quiz finished. Score:', userScore, 'Percentage:', percentage, 'Type:', type); // Debugging
            // Scroll to result
             setTimeout(() => {
                if(resultBox) resultBox.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);

        }

        // --- Reset Quiz Functionality ---
        function resetQuiz() {
             console.log('Resetting Quiz...'); // Debugging
             currentQuestionIndex = 0;
             userScore = 0;

             // --- Select a *new* random question set ---
             // Store the index of the current set to avoid immediately repeating it
             const currentSet = questions; // Store current set object
             let newSet;
             // Loop until a different set is selected, but prevent infinite loop if only one set exists
             if (questionSets.length > 1) {
                 do {
                     newSet = questionSets[Math.floor(Math.random() * questionSets.length)];
                 } while (newSet === currentSet);
             } else {
                 // If only one set, just use that one again
                 newSet = questionSets[0];
             }
             questions = newSet;
             console.log('Selected new question set (first question of new set):', questions[0].q);
             // --- End Select new set ---


             // Hide result box and social share button, ensure elements exist first
             if(resultBox) resultBox.style.display = 'none';
             const tipBox = document.getElementById('tip-box');
             if(tipBox) tipBox.style.display = 'none'; // Hide tips after retake


             // Show question and options area, ensure elements exist first
             if(questionDiv) {
                 questionDiv.innerText = 'Loading...'; // Reset question text placeholder
                 questionDiv.style.display = 'block';
             }
             if(optionsDiv) {
                  optionsDiv.innerHTML = ''; // Clear old options
                 optionsDiv.style.display = 'block';
             }


             // Load the first question of the new set
             // Add a small delay to ensure DOM is ready after display changes
             setTimeout(loadQuestion, 50);


             // Scroll back to the top of the quiz section
              setTimeout(() => {
                 // Use showPageSection to ensure the quiz section is visible and scrolled
                 // Pass true to prevent hash change during reset if already on quiz page
                 showPageSection('quiz', true);
             }, 50); // Small delay

             console.log('Quiz reset with new questions. Loading first question.'); // Debugging
        }
        // --- End Reset Quiz Functionality ---


        function shareResult() {
             const resultTitle = document.getElementById('result-title');
             if (!resultTitle) {
                  console.error("Result title element not found for sharing.");
                  alert('Could not find result to share.');
                  return;
             }
             // NOTE: Replace [Link to your page here] with the actual URL of your calculator page
             const shareText = `Just found out my Social Energy Score! ${resultTitle.innerText} - See what yours is: [Link to your page here, e.g., https://YourWebsite.com/social-energy-calculator] #SocialEnergy #IntrovertExtrovertAmbivert #PersonalityType`;

             // Use Web Share API if available
             if (navigator.share) {
                 navigator.share({
                     title: 'My Social Energy Score',
                     text: shareText,
                     url: window.location.href // Use current URL or a specific share URL
                 }).then(() => {
                     console.log('Successful share');
                 }).catch((error) => {
                     console.error('Error sharing:', error);
                     // Fallback to clipboard if Web Share fails or is not available
                     navigator.clipboard.writeText(shareText).then(() => {
                         alert('Your result message has been copied to the clipboard!');
                     }).catch(err => {
                         console.error('Failed to copy share text: ', err);
                         alert('Could not copy text. Please copy it manually:\n' + shareText);
                     });
                 });
             } else {
                 // Fallback to clipboard for browsers that don't support Web Share
                 navigator.clipboard.writeText(shareText).then(() => {
                     alert('Your result message has been copied to the clipboard!');
                 }).catch(err => {
                     console.error('Failed to copy share text: ', err);
                     alert('Could not copy text. Please copy it manually:\n' + shareText);
                 });
             }
        }


        // Dynamic Tips
        const tips = [
            'Schedule a 15-minute digital detox break. Step away from all screens.',
            'Turn off non-essential notifications for an hour to reduce digital social demands.',
            'Plan intentional social interactions rather than just reacting to invites.',
            'Identify one activity that reliably recharges your social battery and make time for it this week.',
            'Practice active listening in your next conversation – focus fully on the other person.',
            'If you have back-to-back meetings, especially video calls, try to build in 5-10 minute gaps.',
            'Step outside for a few minutes of fresh air and low-stimulation observation.',
            'Try a quick body scan meditation to check in with your physical and social energy levels.',
            'If feeling drained, politely excuse yourself from a social situation for a few minutes.',
            'Reflect on a recent social interaction: What energized you? What drained you?',
            'For extroverts: Find a structured social activity (like a class or club) that provides consistent, positive interaction.',
            'For introverts: Plan a quiet, solo outing like visiting a museum or walking in nature.',
            'For ambiverts: Mix your week with both social plans and dedicated alone time.',
            'Before a potentially draining social event, mentally prepare by visualizing yourself managing your energy.',
            'After a big social event, build in buffer time to decompress and recharge.',
            'Limit checking social media during focused work periods.',
            'Set a clear intention for your next social interaction – e.g., "I want to listen more" or "I want to connect with X person".',
            'Use walking meetings (if feasible) to add movement and a less intense social dynamic.',
            'Keep a social energy journal for a week to track what gives and takes energy.',
            'Practice assertive communication to set boundaries around your time and energy.',
            'Connect with an old friend via text or email if you don\'t have energy for a call.',
            'Find moments of solitude even in shared living spaces (e.g., reading in a quiet corner).',
            'If a virtual meeting is draining, try switching to audio-only if appropriate.',
            'End social interactions on a positive note to leave a good lasting impression.',
            'Visualize your ideal balance of social and alone time for the upcoming week.'
        ];
        const tipTextElement = document.getElementById('tip-text');
        const newTipButton = document.getElementById('new-tip');
        const tipBox = document.getElementById('tip-box');

        function newTip() {
             console.log('Running newTip function.'); // Debugging
             if (tipTextElement && tips.length > 0) {
                 const randomTip = tips[Math.floor(Math.random() * tips.length)];
                 tipTextElement.innerText = randomTip;
                 console.log('New tip generated and displayed:', randomTip); // Debugging
             } else {
                  console.error("Tip text element not found or tips array is empty when trying to generate new tip.");
                  if(tipTextElement) tipTextElement.innerText = "Could not load tip.";
             }
        }
        // Event listener is attached in DOMContentLoaded


        // Blog List & Articles (full content)
        const articles = [
            { title: "Understanding Introversion: Recharge Your Alone Time", content: `<div class="blog-article">
                <h3>Understanding Introversion: Recharge Your Alone Time</h3>
                <p>The term "introvert" is often misunderstood, frequently confused with shyness or social anxiety. However, introversion is fundamentally about where you draw your energy from. If you are an <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(0), 50); return false;">introvert</a>, you likely find that interacting with others, especially in large groups or over extended periods, depletes your energy reserves. To recharge, you need quiet time alone. This isn't about disliking people; it's about how your brain is wired to process social stimulation.</p>
                <p>True introversion is a personality trait on a spectrum, distinct from shyness (which is fear of social judgment). While some introverts can also be shy, many are perfectly comfortable in social situations but simply find them energetically taxing. Think of your social energy like a battery that gets depleted by interaction and recharged by solitude.</p>
                <h4>Key Traits of an Introvert:</h4>
                <ul>
                    <li>Gain energy from solitude and quiet environments.</li>
                    <li>Prefer deep conversations with a few close friends over superficial interactions with many.</li>
                    <li>Often observe before participating in group activities.</li>
                    <li>Need alone time to process thoughts and feelings.</li>
                    <li>May find large crowds or prolonged social events draining.</li>
                    <li>Enjoy quiet hobbies like reading, writing, or individual pursuits.</li>
                </ul>
                <p>Living as an introvert in a world that often seems designed for extroverts can present challenges. Workplaces may emphasize collaboration and open-plan offices, and social expectations might push for constant connectivity. However, recognizing and embracing your <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(0), 50); return false;">introvert traits</a> is key to managing your social energy effectively and living a balanced life.</p>
                <h4>Strategies for Managing Introvert Energy:</h4>
                <p>Managing your <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(0), 50); return false;">introvert energy</a> is about creating a sustainable rhythm between social engagement and necessary solitude. Here are some practical tips:</p>
                <ul>
                    <li>**Schedule Recharge Time:** Just as you schedule meetings, schedule dedicated "alone time" in your week. Treat it as non-negotiable.</li>
                    <li>**Set Social Boundaries:** You don't have to attend every event. Learn to politely decline invitations that will overly drain you. For events you do attend, set a time limit in advance.</li>
                    <li>**Take Micro-Breaks:** During long workdays or social gatherings, step away for a few minutes of quiet. Go for a short walk, find an empty room, or do a brief meditation.</li>
                    <li>**Communicate Your Needs:** Help friends, family, and colleagues understand that your need for solitude isn't rejection; it's how you function best.</li>
                    <li>**Choose Your Interactions:** Focus on quality over quantity. Invest your social energy in meaningful connections that truly enrich you.</li>
                    <li>**Create a Personal Sanctuary:** Designate a quiet space in your home where you can retreat to read, think, or simply relax without interruption.</li>
                    <li>**Embrace Quiet Hobbies:** Pursuits like gardening, painting, coding, or playing a musical instrument can be wonderfully restorative for introverts.</li>
                </ul>
                <p>Understanding your <a href="#quiz" onclick="showPageSection('quiz')">social energy</a> score is the first step. Living according to your needs allows you to show up as your best self when you are engaging with the world. Embrace your need for solitude – it's your superpower for recharging and maintaining your well-being. By implementing these strategies, introverts can effectively <a href="#tips" onclick="showPageSection('tips')">manage their social battery</a> and thrive in all aspects of life.</p>
                <p>For more insights into introversion and other personality types, explore our other <a href="#blog" onclick="showPageSection('blog')">blog articles</a>.</p>
            </div>` },
            { title: "Ambiverts: The Best of Both Worlds?", content: `<div class="blog-article">
                <h3>Ambiverts: The Best of Both Worlds? Navigating the Introvert-Extrovert Spectrum</h3>
                <p>The world of personality types isn't always black and white. While introverts and extroverts sit at opposite ends of the <a href="#blog" onclick="showPageSection('blog')">social energy</a> spectrum, a significant portion of the population falls somewhere in the middle: the <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(1), 50); return false;">ambivert</a>. Often described as being able to enjoy aspects of both introversion and extroversion, ambiverts possess a unique flexibility in managing their <a href="#blog" onclick="showPageSection('blog')">social battery</a>.</p>
                <p>Ambiverts don't fit neatly into one category. They might feel comfortable and energized by social interaction, but too much can leave them feeling drained, similar to an introvert. Conversely, they enjoy solitude and quiet time, but too much isolation can leave them feeling bored or disconnected, akin to an extrovert. This adaptability is their defining characteristic, allowing them to thrive in a wider variety of situations.</p>
                <h4>Common Traits of an Ambivert:</h4>
                <ul>
                    <li>Can enjoy both social gatherings and quiet alone time.</li>
                    <li>Adapt their behavior based on the social context.</li>
                    <li>Often good listeners and effective communicators.</li>
                    <li>May feel drained by excessive social stimulation AND bored by prolonged isolation.</li>
                    <li>Have a balanced approach to risk-taking.</li>
                    <li>Can empathize with both introverts and extroverts.</li>
                </ul>
                <p>Being an <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(1), 50); return false;">ambivert personality</a> comes with its own set of advantages and challenges. The ability to adapt makes ambiverts excellent networkers, mediators, and team members. They can understand different perspectives and navigate complex social dynamics. However, their flexible nature can sometimes make it difficult to know what they truly need at any given moment – do I need to go out or stay in? This internal conflict requires a strong sense of self-awareness.</p>
                <h4>Finding Balance as an Ambivert:</h4>
                <p>The key to success for ambiverts is recognizing their natural flow and honoring their fluctuating energy needs. It's about finding the right balance between social engagement and solitude. Here are some strategies:</p>
                <ul>
                    <li>**Listen to Your Energy Levels:** Pay attention to how different activities make you feel. Does that large networking event sound exciting or exhausting? Do you feel restless after a quiet weekend, or relieved?</li>
                    <li>**Don't Force It:** Don't feel pressured to be the life of the party or to spend all your free time alone. Do what feels right for your energy level in the moment.</li>
                    <li>**Build a Flexible Routine:** Incorporate both social activities and quiet time into your week. Be prepared to adjust your plans based on how you're feeling.</li>
                    <li>**Communicate Your Needs:** Just like introverts and extroverts, ambiverts benefit from communicating their needs to others. Explain that sometimes you're up for anything, and other times you need to take it easy.</li>
                    <li>**Seek Variety:** Your adaptability is a strength. Embrace opportunities that allow you to use both your engaging and reflective sides.</li>
                    <li>**Reflect Regularly:** Take time to think about what truly recharges and drains you. Your needs might change depending on stress levels or life circumstances.</li>
                </ul>
                <p>Ambiverts are often described as the most effective leaders and salespeople because they know when to speak up and when to listen. They can build rapport easily but also work independently. Understanding that you don't have to be strictly one or the other is liberating. Embrace your position on the <a href="#blog" onclick="showPageSection('blog')">introvert extrovert spectrum</a> and use your adaptability to thrive. Your <a href="#quiz" onclick="showPageSection('quiz')">social energy score</a> is a starting point; the journey is in managing it intentionally.</p>
                 <p>Learn more about personality and energy management in our full <a href="#blog" onclick="showPageSection('blog')">blog section</a>.</p>
            </div>` },
            { title: "Embracing Extroversion: Harnessing Social Energy", content: `<div class="blog-article">
                <h3>Embracing Extroversion: Harnessing Your Social Energy to Thrive</h3>
                <p><a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(2), 50); return false;">Extroverts</a> are often seen as the most visible personality type, characterized by their outgoing nature and enjoyment of social interaction. Unlike introverts who recharge in solitude, extroverts typically gain energy from being around other people. Social environments act as a stimulant, fueling their enthusiasm and creativity. Understanding this fundamental aspect of your <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(2), 50); return false;">extrovert personality</a> is key to harnessing your social energy constructively.</p>
                <p>Extroversion is a preference, not a judgment. While extroverts thrive on external stimulation, this doesn't mean they can't enjoy quiet time or deep thought. It simply means their primary source of energy replenishment comes from social engagement. They often think out loud, process information by talking through it, and feel most alive when connected to the world around them.</p>
                <h4>Common Traits of an Extrovert:</h4>
                <ul>
                    <li>Gain energy from social interaction and external stimulation.</li>
                    <li>Enjoy being in groups and are often comfortable in the spotlight.</li>
                    <li>Are typically expressive and enthusiastic.</li>
                    <li>May feel bored or drained by too much solitude.</li>
                    <li>Often think by talking things through.</li>
                    <li>Are usually approachable and make new friends easily.</li>
                </ul>
                <p>For extroverts, managing <a href="#blog" onclick="showPageSection('blog')">social energy</a> isn't about finding time to recharge away from people, but about ensuring their social interactions are fulfilling and don't lead to burnout from *over*-commitment or superficiality. It's about directing that abundant energy effectively.</p>
                <h4>Strategies for Managing Extrovert Energy:</h4>
                <p>While you gain energy from others, even extroverts can experience fatigue or feel drained if their social interactions are consistently shallow or negative. Here’s how to harness your <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(2), 50); return false;">extroverted energy</a>:</p>
                <ul>
                    <li>**Seek Meaningful Connections:** While large groups are fun, make time for deeper, one-on-one or small-group interactions that nourish you emotionally.</li>
                    <li>**Channel Your Enthusiasm:** Direct your energy into productive activities like leading teams, organizing events, or participating in community projects.</li>
                    <li>**Mindful Communication:** Be aware that your energetic communication style might overwhelm others. Practice active listening and give space for others to contribute.</li>
                    <li>**Scheduled Downtime (Yes, Even for Extroverts):** While solitude isn't your primary recharge, short periods of quiet can help you process thoughts and prevent overstimulation.</li>
                    <li>**Vary Social Settings:** Mix large parties with smaller dinners, active outings with relaxed coffee chats. Different settings provide different kinds of social energy.</li>
                    <li>**Embrace New Experiences:** Extroverts often crave novelty. Seek out new social groups, hobbies, or travel destinations to keep your energy levels high.</li>
                    <li>**Avoid Over-Committing:** Just because you *can* go to five events in a week doesn't mean you *should*. Pace yourself to maintain genuine enthusiasm.</li>
                </ul>
                <p>Extroverts often naturally excel in roles requiring strong interpersonal skills, public speaking, and networking. Your ability to connect with others is a powerful asset. By understanding your <a href="#quiz" onclick="showPageSection('quiz')">social energy score</a> and applying strategies to manage your interactions intentionally, you can continue to thrive on social engagement while ensuring your well-being. Embracing your extroversion means leaning into your natural inclination towards people while maintaining balance.</p>
                 <p>Explore more about managing your energy and personality type in our full <a href="#blog" onclick="showPageSection('blog')">blog section</a>.</p>
            </div>` },
            { title: "The Science Behind Social Energy: Dopamine and the Brain", content: `<div class="blog-article">
                <h3>The Science Behind Social Energy: Dopamine, Brain Differences, and Personality</h3>
                <p>Have you ever wondered why some people light up in a crowded room while others feel an immediate urge to find the nearest exit? It's not just about preference; there's fascinating <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(3), 50); return false;">science behind social energy</a>. Research into the human brain is shedding light on the biological basis of introversion and extroversion, particularly focusing on how individuals respond to stimuli, including social interaction.</p>
                <p>One key player in this neurobiological difference is **dopamine**, a neurotransmitter associated with reward, motivation and pleasure-seeking. Studies suggest that introverts and extroverts may have different dopamine systems. It's not that one group has more dopamine than the other, but rather they might differ in how their brains process and respond to dopamine activity, particularly in pathways related to reward and external engagement.</p>
                <h4>Dopamine Pathways and Stimulation:</h4>
                <p>Extroverts may have a more active dopamine pathway that responds strongly to external rewards, including social stimulation. This could mean they feel a greater sense of pleasure or energy boost from interacting with others. Social situations provide a rich source of external stimuli – new faces, conversations, activities – which can trigger dopamine release and make them feel energized and motivated.</p>
                <p>Introverts, on the other hand, may have a different sensitivity to dopamine or other neurochemical processes. Their brains might process stimuli, both social and non-social, more intensely. This higher sensitivity could mean that excessive external stimulation, like a bustling party, can quickly become overstimulating and draining. They might feel more comfortable and recharged in quieter environments where stimulation is lower, allowing their brains to process internally without being overwhelmed.</p>
                <h4>Brain Differences and Personality:</h4>
                <p>Beyond dopamine, neuroimaging studies have explored other potential brain differences related to personality. Some research suggests differences in brain regions like the amygdala (involved in processing emotions, including social ones) or areas related to processing external sensory information. These subtle variations in brain structure and function could contribute to the differing responses to social environments seen in introverts and extroverts.</p>
                <ul>
                    <li>**Stimulus Sensitivity:** Introverts may have a lower threshold for external stimulation becoming overwhelming.</li>
                    <li>**Processing Style:** Introverts often process information more internally before speaking, while extroverts may process externally by talking.</li>
                    <li>**Arousal Levels:** Some theories suggest introverts have a naturally higher baseline level of arousal in certain brain pathways, meaning they require less external stimulation to reach an optimal level of alertness, and can become overstimulated quickly. Extroverts may have a lower baseline, seeking external stimulation to reach that optimal level.</li>
                </ul>
                <p>It's important to note that this is a complex area of research, and the science is still evolving. Personality is influenced by a combination of genetic predispositions, brain chemistry, and environmental factors. There isn't a single "introvert brain" or "extrovert brain," but rather tendencies in how different brains respond to the world.</p>
                <p>Understanding the potential <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(3), 50); return false;">biology of social behavior</a> helps validate that your <a href="#quiz" onclick="showPageSection('quiz')">social energy</a> is a real aspect of your nature, not a choice or a flaw. Whether you are an introvert, extrovert, or <a href="#blog" onclick="showPageSection('blog')">ambivert</a>, your need for certain levels of social interaction or solitude is rooted in your neurobiology. This knowledge can empower you to make choices that align with your natural energy flow, leading to greater well-being and productivity. The <a href="#blog" onclick="showPageSection('blog')">science of personality</a> continues to provide fascinating insights into why we are the way we are.</p>
            </div>` },
            { title: "Managing Energy in a Remote Work World", content: `<div class="blog-article">
                <h3>Managing Energy in a Remote Work World: Navigating Social Needs When Working From Home</h3>
                <p>The shift towards <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(4), 50), 50; return false;">remote work</a> has fundamentally changed how many of us experience social interaction in our daily professional lives. For some, working from home is a welcome relief from constant office chatter, offering focus and reduced social demands. For others, it can feel isolating, lacking the spontaneous connection that fuels their energy. Understanding your <a href="#quiz" onclick="showPageSection('quiz')">social energy score</a> (whether you lean introvert, extrovert, or <a href="#blog" onclick="showPageSection('blog')">ambivert</a>) is crucial for effectively <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(4), 50), 50; return false;">managing energy in a remote work world</a>.</p>
                <h4>Challenges and Opportunities of Remote Work Socially:</h4>
                <ul>
                    <li>**Reduced Spontaneous Interaction:** No more water cooler chats or impromptu desk visits. Socializing becomes more intentional.</li>
                    <li>**Video Call Fatigue:** Constant online meetings can be surprisingly draining, especially for introverts or those with high visual sensitivity.</li>
                    <li>**Maintaining Connections:** Building and maintaining rapport with colleagues requires different strategies in a virtual environment.</li>
                    <li>**Blurred Boundaries:** The line between work time and personal time can blur, making it harder to schedule social activities or recharge time.</li>
                    <li>**Increased Isolation (for some):** Extroverts might miss the constant buzz and energy of a shared workspace.</li>
                    <li>**More Control (for others):** Introverts might appreciate the ability to minimize interruptions and control their social exposure.</li>
                </ul>
                <p>Regardless of where you fall on the spectrum, proactive strategies are needed to ensure your <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(4), 50), 50; return false;">remote work social energy</a> remains healthy. It's about intentionally designing your workday and after-work life to meet your specific social needs.</p>
                <h4>Tips for Managing Social Energy While Working From Home:</h4>
                <p>Here are some practical tips tailored to the <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(4), 50), 50; return false;">WFH social</a> landscape:</p>
                <ul>
                    <li>**Schedule Virtual Social Breaks:** For extroverts and ambiverts, propose short, non-work-related virtual coffee breaks with colleagues.</li>
                    <li>**Set Boundaries Around Video Calls:** If possible, block out focus time between calls. Use chat or email for quick questions instead of immediate calls. Consider if video is necessary for every meeting.</li>
                    <li>**Create a "Commute" Buffer:** Use the time you would have spent commuting to engage in an activity that helps you transition and set your social energy for the day – listen to a podcast, meditate, or exercise.</li>
                    <li>**Nurture Non-Work Social Life:** Intentionally schedule calls, video chats, or safe in-person meetups with friends and family. Don't let your social needs go unmet outside of work.</li>
                    <li>**Designate a Workspace:** Having a clear physical boundary for work can help create a mental separation, making it easier to switch off and engage in social or solo activities afterwards.</li>
                    <li>**Utilize Instant Messaging Mindfully:** Chat tools can be great for quick questions but can also be a constant source of low-level social stimulation. Manage notifications to control interruptions.</li>
                    <li>**Find a Work Buddy:** Connect with one or two colleagues for regular casual check-ins. This can replicate some of the positive social aspects of an office without being overwhelming.</li>
                    <li>**Step Outside:** Even a short walk around the block can provide a change of scenery and brief, low-stakes social interactions (seeing neighbors, people at shops) which can help balance energy.</li>
                </ul>
                <p>Remote work offers flexibility, but it requires conscious effort to manage your social energy. By understanding your natural tendencies and implementing strategies to either seek out connection or protect your solitude, you can create a <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(4), 50), 50; return false;">remote team social connection</a> that works for you and maintain your overall well-being. Your <a href="#tips" onclick="showPageSection('tips')">energy management</a> is key to thriving when <a href="#blog" onclick="showPageSection('blog'); setTimeout(()=>showArticle(4), 50), 50; return false;">working from home</a>.</p>
                 <p>For more insights on personality and energy, visit our main <a href="#blog" onclick="showPageSection('blog')">blog section</a>.</p>
            </div>` }
            // If you want 5 more articles to reach 10, you would add them here following the same structure.
            // Example Placeholder Structure:
            /*
            , { title: "Article Title 5", content: `<div class="blog-article"><h3>Article Title 5</h3><p>Paragraph 1...</p><p>Paragraph 2...</p>... (ensure over 500 words)</div>` }
            , { title: "Article Title 6", content: `<div class="blog-article"><h3>Article Title 6</h3><p>Paragraph 1...</p>...</div>` }
            // ... up to article 9 if needed
            */
        ];
        const blogListElement = document.getElementById('blog-list');
        const articleContainerElement = document.getElementById('article-container');


        function buildBlogList() {
             if (!blogListElement) {
                  console.error("Blog list element not found.");
                  return;
             }
             blogListElement.innerHTML = ''; // Clear existing list
             articles.forEach((a, i) => {
                const li = document.createElement('li');
                // Use return false to prevent default anchor link behavior (#article)
                // Link now calls showPageSection('blog') THEN showArticle(i)
                li.innerHTML = `<li><a href="#article-${i}" onclick="showPageSection('blog'); setTimeout(()=>showArticle(${i}), 50); return false;">${a.title}</a></li>`;
                // Append li to the list
                blogListElement.appendChild(li);
            });
             console.log('Blog list built with', articles.length, 'articles.'); // Debugging
        }

        function showArticle(i) {
             if (!articleContainerElement || i < 0 || i >= articles.length) {
                  console.error("Article container not found or invalid article index:", i);
                  return;
             }
             // Hide blog list when showing a specific article, ensure element exists
             const blogList = document.getElementById('blog-list');
             if(blogList) blogList.style.display = 'none';

            articleContainerElement.innerHTML = articles[i].content;
            // Use history.pushState to change the URL without a full page reload, referencing the article index
            // This makes the URL shareable for the specific article (e.g., #article-0)
             history.pushState(null, null, `#article-${i}`);

            // Scroll to the article container
             setTimeout(() => {
                 articleContainerElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
             }, 100);
             console.log('Showing article index:', i); // Debugging
        }

        // --- Toggleable Content (Modal Pattern) ---
        function toggleContent(id) {
             try {
                 const contentDiv = document.getElementById(id + '-content');
                 const overlay = document.querySelector('.overlay');

                 if (!contentDiv || !overlay) {
                      console.error("Toggle elements not found for ID:", id);
                      return;
                 }

                 const isHidden = contentDiv.style.display === 'none' || contentDiv.style.display === '';

                 // Always hide all others first, excluding the one we might be about to show
                 hideAllToggles(id);

                 if (isHidden) {
                     // Show the selected one
                     contentDiv.style.display = 'block';
                     // Show overlay
                     overlay.style.display = 'block';
                     // Add event listener to overlay to hide toggles on click (only when visible)
                     // Ensure listener is added only once
                     if (!overlay.dataset.listenerAttached) {
                         overlay.addEventListener('click', hideAllToggles);
                         overlay.dataset.listenerAttached = 'true'; // Mark listener as attached
                     }

                 } else {
                     // Hide the selected one
                     contentDiv.style.display = 'none';
                      // Now check if ANY toggle content is still visible
                      const anyVisible = Array.from(document.querySelectorAll('.toggle-content')).some(div => div.style.display === 'block');
                      if (!anyVisible) {
                         // Hide overlay only if no content is visible
                         overlay.style.display = 'none';
                         // Remove overlay click listener when hidden
                          if (overlay.dataset.listenerAttached) {
                             overlay.removeEventListener('click', hideAllToggles);
                             delete overlay.dataset.listenerAttached; // Remove the marker
                          }
                      }
                 }
             } catch (error) {
                  console.error('Error toggling content:', error);
             }
         }

         function hideAllToggles(excludeId = null) {
              try {
                  const toggles = document.querySelectorAll('.toggle-content');
                  let anyVisibleAfterHiding = false;

                  toggles.forEach(toggle => {
                      // Hide if not the excluded one OR if no exclusion is set
                      if (excludeId === null || toggle.id !== excludeId + '-content') {
                          if (toggle.style.display === 'block') {
                              toggle.style.display = 'none';
                          }
                      }
                       // Check if this toggle is still visible (it's the excluded one)
                       if (toggle.style.display === 'block') {
                           anyVisibleAfterHiding = true;
                       }
                  });

                  const overlay = document.querySelector('.overlay');
                   if (!overlay) {
                       console.error("Overlay element not found.");
                       return;
                   }

                  // Hide overlay only if NO toggle content is now visible
                  if (!anyVisibleAfterHiding) {
                      overlay.style.display = 'none';
                       // Remove overlay click listener when hidden
                       if (overlay.dataset.listenerAttached) {
                          overlay.removeEventListener('click', hideAllToggles);
                          delete overlay.dataset.listenerAttached;
                       }
                  }
              } catch (error) {
                  console.error('Error hiding all toggles:', error);
              }
         }

         // Close toggles by pressing Escape key
         document.addEventListener('keydown', function(event) {
             if (event.key === 'Escape') {
                 hideAllToggles();
             }
         });
         // --- End Toggleable Content (Modal Pattern) ---

        // --- Section Visibility Toggling ---
        // Added an optional parameter 'preventHashChange'
         function showPageSection(id, preventHashChange = false) {
             try {
                 const sections = document.querySelectorAll('.page-section');
                 let targetElement = document.getElementById(id);

                 if (!targetElement) {
                     console.error('Target section not found:', id);
                     // Fallback to quiz if target not found
                     targetElement = document.getElementById('quiz');
                     id = 'quiz';
                 }

                 sections.forEach(section => {
                     section.style.display = 'none';
                 });

                 targetElement.style.display = 'block';
                 console.log('Showing section:', id);

                 // Update the URL hash unless prevented
                 // Only push state if it's a main section hash and not an article hash
                 if (!preventHashChange && !window.location.hash.startsWith('#article-') && window.location.hash !== '#' + id) {
                     history.pushState(null, null, `#${id}`);
                 }


                 // Scroll to the top of the newly visible section
                 // Use a small timeout to ensure the display block has taken effect before scrolling
                 setTimeout(() => {
                    scrollToSection(id);
                 }, 50);


                 // Special handling for blog section: show the list, hide article view
                 if (id === 'blog') {
                      const blogList = document.getElementById('blog-list');
                      const articleContainer = document.getElementById('article-container');
                     if (blogList) blogList.style.display = 'block'; // Show the list
                     if (articleContainer) articleContainer.innerHTML = ''; // Clear any displayed article
                      console.log('Blog section shown: showing list, clearing article.');
                 }

                 // Special handling for tips section: show the tip box
                 if (id === 'tips') {
                      const tipBox = document.getElementById('tip-box');
                      if (tipBox) {
                          tipBox.style.display = 'block'; // Ensure the tip box is visible
                           newTip(); // Load a tip when navigating to the tips section
                          console.log('Tips section shown: showing tip box.');
                      } else {
                           console.error("Tip box element not found when showing tips section.");
                      }
                 } else {
                      // If NOT the tips section, hide the tip box
                       const tipBox = document.getElementById('tip-box');
                       if(tipBox) tipBox.style.display = 'none';
                 }

                 // Special handling for quiz section: ensure elements are visible
                 if (id === 'quiz') {
                     const questionDiv = document.getElementById('question');
                     const optionsDiv = document.getElementById('options');
                     const resultBox = document.getElementById('result-box');

                     // Always ensure question/options are visible when showing quiz section
                     if(questionDiv) questionDiv.style.display = 'block';
                     if(optionsDiv) optionsDiv.style.display = 'block';

                     // If quiz is finished, hide question/options and show result/tip boxes
                     if (currentQuestionIndex >= (questions ? questions.length : 0)) {
                          console.log('Quiz section shown, quiz finished. Hiding question/options, showing result/tip boxes.');
                          if(questionDiv) questionDiv.style.display = 'none';
                          if(optionsDiv) optionsDiv.style.display = 'none';
                          if(resultBox) resultBox.style.display = 'block';
                           const tipBox = document.getElementById('tip-box');
                           if(tipBox) tipBox.style.display = 'block';
                     } else {
                         // If quiz is not finished, hide result/tip boxes
                         console.log('Quiz section shown, quiz not finished. Hiding result/tip boxes.');
                         if(resultBox) resultBox.style.display = 'none';
                          const tipBox = document.getElementById('tip-box');
                          if(tipBox) tipBox.style.display = 'none';
                         // Ensure quiz is loaded if it hasn't started
                         if (currentQuestionIndex === 0 && questionDiv && questionDiv.innerText === 'Loading...') {
                             console.log('Quiz section: Initial load state detected, calling resetQuiz.');
                             resetQuiz(); // Explicitly reset and load if in initial state
                         } else if (currentQuestionIndex > 0) {
                              console.log('Quiz section: User returned mid-quiz. Reloading current question.');
                              loadQuestion(); // Reload current question if mid-quiz
                         }
                     }
                 }


             } catch (error) {
                 console.error('Error showing page section:', error);
             }
         }

         // Handle page load and hash changes to show the correct section or article
         function handleHashChange() {
             const hash = window.location.hash.substring(1); // Get hash without '#'
             console.log('Handling hash:', hash); // Debugging

             if (hash.startsWith('article-')) {
                 const index = parseInt(hash.substring('article-'.length));
                 // Show blog section first, then show the specific article
                 showPageSection('blog', true); // Pass true to prevent hash change during this transition
                 if (!isNaN(index) && index >= 0 && index < articles.length) {
                      // Small delay to ensure blog section is visible and DOM updated before trying to show article
                      setTimeout(() => showArticle(index), 50);
                 } else {
                      console.error('Invalid article index in hash:', hash);
                      // Fallback to showing the blog list if article hash is invalid
                      showPageSection('blog'); // This will set the hash to #blog
                 }

             } else if (hash && document.getElementById(hash)) {
                 // If hash matches a main section ID, show that section
                 showPageSection(hash);
             } else {
                 // If no hash or invalid hash, default to showing the quiz section
                 // This will be handled by the explicit resetQuiz call in DOMContentLoaded
                 console.log('No valid hash found, defaulting to quiz.');
                 // Do NOT call resetQuiz here directly, let DOMContentLoaded handle the initial load
             }
         }
         // --- End Section Visibility Toggling ---


        // Smooth Scrolling (remains the same, used by showPageSection)
        function scrollToSection(id) {
             try {
                 const element = document.getElementById(id);
                 if (element) {
                     element.scrollIntoView({ behavior: 'smooth' });
                     // console.log('Scrolled to:', id); // Debugging
                 } else {
                     console.error('Element not found for scrolling:', id);
                 }
             } catch (error) {
                 console.error('Scrolling error:', error);
             }
        }


        // Initialize Quiz and Blog, handle hash
        document.addEventListener('DOMContentLoaded', () => {
             console.log('DOM fully loaded.'); // Debugging

             // Apply saved theme
             const savedTheme = localStorage.getItem('theme');
             if (savedTheme === 'dark') {
                 document.body.classList.add('dark-mode');
                  const themeToggle = document.getElementById('theme-toggle');
                  if(themeToggle) themeToggle.textContent = 'Light Mode';
             } else {
                 document.body.classList.remove('dark-mode');
                 const themeToggle = document.getElementById('theme-toggle');
                 if(themeToggle) themeToggle.textContent = 'Dark Mode';
             }

             // Set up initial battery color based on default 0% width
             // This will be updated properly when showResult is called
             updateBatteryLevelColor();

            // Initialize Blog List
            buildBlogList();

            // Add event listener for hash changes (needed for back/forward browser buttons)
             window.addEventListener('hashchange', handleHashChange);

             // Handle initial page load based on hash first
              handleHashChange();

             // Explicitly reset and load the quiz if the initial section shown is the quiz
             // This ensures the quiz is always initialized correctly on page load
             const currentHash = window.location.hash.substring(1);
             if (currentHash === '' || currentHash === 'quiz') {
                  console.log('Initial load is quiz section, explicitly resetting quiz.');
                  resetQuiz(); // Ensure quiz is loaded regardless of handleHashChange outcome
             }


             // Ensure the dynamic tip box is hidden initially (will be shown by showResult or showPageSection('tips'))
              const tipBox = document.getElementById('tip-box');
              if (tipBox) {
                  tipBox.style.display = 'none';
              } else {
                   console.error("Tip box element not found on DOMContentLoaded.");
              }

              // Attach tip button listener, ensure element exists
              const newTipButton = document.getElementById('new-tip');
              if (newTipButton) {
                  newTipButton.addEventListener('click', newTip);
                  console.log('New tip button listener attached.');
              } else {
                   console.error("New tip button not found on DOMContentLoaded.");
              }

             // Load an initial tip on page load (but it remains hidden with the tipBox until quiz is done or tips section is visited)
             newTip(); // Call once to load the first tip
        });

</script>
</body>
</html>
